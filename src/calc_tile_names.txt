#include "math.h"
QPointF project(double lon, double lat)
{
  const int tile_size = 256;
  double    siny      = sin(lat * M_PI / 180);
  return {
      tile_size * (0.5 + lon / 360),
      tile_size * (0.5 - log((1 + siny) / (1 - siny)) / (4 * M_PI)),
  };
}

  int tile_size = 256;
  int zoom      = 19;  // assume the minimum z value is 1 (SAS.Planet)
  const int scale            = 1 << (zoom - 1);
  auto      world_coor       = project(30.3642851, 59.9769195);
  auto      pixel_coor_float = world_coor * scale;
  auto      pixel_coor_int   = {floor(pixel_coor_float.x()),
                                floor(pixel_coor_float.y())};
  auto      tile_coor = {floor(pixel_coor_float.x() / tile_size),
                         floor(pixel_coor_float.y() / tile_size)};

